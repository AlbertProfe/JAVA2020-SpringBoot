<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<h3>Pay list</h3>

<table>
	<tr>
		<td>Session id:</td>
		<td th:text="${session.sid}"></td>
	</tr>
	<tr>
		<td>Customer:</td>
		<td
	th:text="${session.customer.firstName+ ' '+session.customer.lastName }"></td>
	</tr>
	<tr>
			<td>Status:</td>
			<td
				th:text="${session.status}"></td>
		</tr>
</table>
<Br>
	<table >

		<tr th:each="itemAmount:${session.cart}"
			th:unless="${session == null}" 
			th:with ="total=0, subtotal=0"  >
			<td th:text="${itemAmount.product.id}"></td>
			<td th:text="${itemAmount.product.name}"></td>
			<td th:text="${itemAmount.product.brand}"></td>
			<td th:text="${itemAmount.product.madein}"></td>
			<td th:text="${#numbers.formatCurrency(itemAmount.product.price)}"></td>
			<td th:text="${itemAmount.quantity}"></td>
			<td th:with="subtotal=${itemAmount.product.price * itemAmount.quantity}"
			th:text="${#numbers.formatCurrency(subtotal)}">
			</td>
			
	</table>
	
	<table>
	<tr>
		<td>Total</td>
		<td th:text="${#numbers.formatCurrency(session.total)}"></td>
	</tr>
	</table>
<Br><Br>
<p>Pick your delivery date:</p>

  <label for="birthday">Delivery date:</label>
  <input type="date" id="deliveryDate" name="deliveryDate">
  

<Br><Br><Br>
<p>Choose your credit card:</p>
<Br><Br><Br>
<a th:href="@{/pay/payWithCard}">Pay with Credit Card</a>
<Br><Br>
<div>
		<table>
			<tr>

				<td><a th:href="@{/products/show}">Product List</a></td>
				<td><a th:href="@{/cart/show}">My cart</a></td>
				<td><a th:href="@{/creditcards/addCreditCard}">Add Card</a></td>
				<td><a th:href="@{/customers/addCustomer}">Add Client</a></td>
				<td><a th:href="@{/creditcards/show}">List of Cards</a></td>
				<td><a th:href="@{/customers/show}">List of clients</a></td>
			</tr>
		</table>
	</div>
</html>